
根据你的要求，我们需要对 `updateView`（更新知识库界面）进行组件扩展、文案修改以及布局权重调整。

以下是针对 `main.qml` 的修改建议描述和参考代码：

### 一、 修改建议描述

1.  **组件扩展（视频平台行）**：
    *   将原本占据整行的“视频平台”改为 `RowLayout`。
    *   左侧保留“视频平台”下拉框，右侧新增“类型”下拉框（包含“视频”、“收藏夹”）。
    *   两者平分该行宽度或按比例排列，以保持视觉平衡。
2.  **文案修改**：
    *   将输入框标签从“收藏夹地址”改为“地址（URL）”。
    *   将底部按钮文字从“开始同步知识库”改为“开始更新知识库”，并增大 `font.pixelSize`。
    *   修改日志框初始化文本，将第二行改为“准备更新知识库...”。
3.  **高度权重调整（空间再分配）**：
    *   原本两个框通过 `Layout.fillHeight: true` 均分空间。
    *   **修改方案**：为“Cookie 输入框”设置一个固定的或较小的 `Layout.preferredHeight`（例如 100px），而为“运行日志”保留 `Layout.fillHeight: true`。这样日志框会自动占据除去上方组件后的所有剩余空间，从而实现“Cookie 降低，日志增加”的效果。

---

### 二、 参考代码实现

请将 `main.qml` 中 `// ================== 视图 3: 更新知识库界面 (优化版) ==================` 下方的 `updateView` 部分替换为以下代码：

```qml
        // ================== 视图 3: 更新知识库界面 (优化版) ==================
        Item {
            id: updateView
            anchors.fill: parent
            visible: activeView === "update"

            ColumnLayout {
                anchors.fill: parent
                anchors.margins: 40
                anchors.topMargin: 30
                spacing: 16

                Text { 
                    text: "更新知识库"; 
                    color: "white"; 
                    font.pixelSize: 24; 
                    font.weight: Font.Bold;
                    Layout.bottomMargin: 10
                }

                // 1. 视频平台 与 类型 (横向排列)
                RowLayout {
                    Layout.fillWidth: true
                    spacing: 20
                    
                    ColumnLayout {
                        Layout.fillWidth: true
                        spacing: 8
                        Text { text: "视频平台"; color: "#a1a1aa"; font.pixelSize: 12 }
                        ComboBox { 
                            id: platformCombo
                            model: ["Bilibili"]
                            Layout.fillWidth: true
                            Layout.preferredHeight: 40
                            delegate: ItemDelegate {
                                width: platformCombo.width
                                contentItem: Text { text: modelData; color: "white"; verticalAlignment: Text.AlignVCenter }
                                background: Rectangle { color: hovered ? "#27272a" : "#18181b" }
                            }
                            contentItem: Text { text: platformCombo.displayText; color: "white"; leftPadding: 12; verticalAlignment: Text.AlignVCenter }
                            background: Rectangle { color: "#09090b"; radius: 8; border.color: "#27272a" }
                        }
                    }

                    ColumnLayout {
                        Layout.fillWidth: true
                        spacing: 8
                        Text { text: "类型"; color: "#a1a1aa"; font.pixelSize: 12 }
                        ComboBox { 
                            id: typeCombo
                            model: ["视频", "收藏夹"]
                            Layout.fillWidth: true
                            Layout.preferredHeight: 40
                            delegate: ItemDelegate {
                                width: typeCombo.width
                                contentItem: Text { text: modelData; color: "white"; verticalAlignment: Text.AlignVCenter }
                                background: Rectangle { color: hovered ? "#27272a" : "#18181b" }
                            }
                            contentItem: Text { text: typeCombo.displayText; color: "white"; leftPadding: 12; verticalAlignment: Text.AlignVCenter }
                            background: Rectangle { color: "#09090b"; radius: 8; border.color: "#27272a" }
                        }
                    }
                }

                // 2. 地址（URL）
                ColumnLayout {
                    Layout.fillWidth: true
                    spacing: 8
                    Text { text: "地址（URL）"; color: "#a1a1aa"; font.pixelSize: 12 }
                    TextField { 
                        text: "https://www.bilibili.com/medialist/play/ml387412427"
                        Layout.fillWidth: true
                        Layout.preferredHeight: 40
                        color: "white"
                        font.pixelSize: 13
                        verticalAlignment: Text.AlignVCenter
                        leftPadding: 12
                        background: Rectangle {
                            color: "#09090b"
                            radius: 8
                            border.color: parent.activeFocus ? "#3b82f6" : "#27272a"
                            border.width: parent.activeFocus ? 2 : 1
                        }
                    }
                }

                // 3. Cookie 输入框 (减小高度权重)
                ColumnLayout {
                    Layout.fillWidth: true
                    Layout.preferredHeight: 100 // 固定/首选高度，实现“降低高度”
                    spacing: 8
                    Text { text: "Cookie (用于平台授权)"; color: "#a1a1aa"; font.pixelSize: 12 }
                    ScrollView {
                        Layout.fillWidth: true
                        Layout.fillHeight: true
                        ScrollBar.vertical.policy: ScrollBar.AsNeeded
                        TextArea {
                            placeholderText: "粘贴视频平台 Cookie 于此..."
                            color: "white"
                            font.family: "Consolas, Monospace"
                            font.pixelSize: 13
                            background: Rectangle { color: "#18181b"; radius: 8; border.color: "#27272a" }
                            wrapMode: TextArea.Wrap
                        }
                    }
                }

                // 4. 运行日志输出框 (增大高度权重，占据剩余所有空间)
                ColumnLayout {
                    Layout.fillWidth: true
                    Layout.fillHeight: true // 核心：占据所有剩余垂直空间
                    spacing: 8
                    Text { text: "运行日志"; color: "#a1a1aa"; font.pixelSize: 12 }
                    Rectangle {
                        Layout.fillWidth: true
                        Layout.fillHeight: true
                        color: "#000000"
                        radius: 8
                        border.color: "#1d1d20"
                        ScrollView {
                            anchors.fill: parent
                            anchors.margins: 10
                            ScrollBar.vertical.policy: ScrollBar.AsNeeded
                            TextArea {
                                readOnly: true
                                // 修改了第二行文案
                                text: "> 等待任务启动...\n> 准备更新知识库..."
                                color: "#10b981"
                                font.family: "Consolas, Monospace"
                                font.pixelSize: 12
                                background: null
                            }
                        }
                    }
                }

                // 5. 更新按钮 (文案修改，字体变大)
                Button {
                    id: runUpdateBtn
                    Layout.alignment: Qt.AlignHCenter
                    Layout.preferredWidth: 260
                    Layout.preferredHeight: 45
                    Layout.topMargin: 10
                    Layout.bottomMargin: 10

                    contentItem: Text {
                        text: "开始更新知识库" // 文案修改
                        color: "white"
                        font.weight: Font.Medium
                        font.pixelSize: 16 // 字体变大
                        horizontalAlignment: Text.AlignHCenter
                        verticalAlignment: Text.AlignVCenter
                    }
                    background: Rectangle {
                        color: runUpdateBtn.hovered ? "#3f3f46" : "#27272a"
                        radius: 8
                        border.color: "#3f3f46"
                        border.width: 1
                        Behavior on color { ColorAnimation { duration: 150 } }
                    }
                }
            }
        }
```

### 修改要点总结：
1.  **RowLayout 应用**：通过在第一行使用 `RowLayout` 并给两个子项都设置 `Layout.fillWidth: true`，实现了“视频平台”和“类型”组件的平分排列。
2.  **空间分配**：将 Cookie 框的 `Layout.fillHeight: true` 移除，改为 `Layout.preferredHeight: 100`。由于日志框依然保持 `Layout.fillHeight: true`，它会“吞噬”掉多出来的空间，从而变得更长。
3.  **UI 一致性**：新增的 `typeCombo` 完全复用了 `platformCombo` 的视觉样式，确保了界面风格的统一性。